<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pramukh Mandala - Pathify</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Link to main stylesheet -->
    <link rel="stylesheet" href="style.css">
    
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
        }
        
        /* Community Cards */
        .community-card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }
        
        .community-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }
        
        /* Chat Interface */
        .chat-container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            max-height: 500px;
            overflow-y: auto;
        }
        
        .chat-message {
            animation: messageSlideIn 0.3s ease-out;
        }
        
        .chat-message.own {
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            margin-left: auto;
            max-width: 70%;
        }
        
        .chat-message.other {
            background: rgba(243, 244, 246, 0.9);
            max-width: 70%;
        }
        
        /* Community Stats */
        .stat-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(248,250,252,0.9) 100%);
            border-left: 4px solid;
            transition: all 0.3s ease;
        }
        
        .stat-card:hover {
            transform: scale(1.05);
        }
        
        .stat-card-blue { border-left-color: #3b82f6; }
        .stat-card-green { border-left-color: #10b981; }
        .stat-card-purple { border-left-color: #8b5cf6; }
        .stat-card-orange { border-left-color: #f59e0b; }
        
        /* Member Avatar */
        .member-avatar {
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            transition: all 0.3s ease;
        }
        
        .member-avatar:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.3);
        }
        
        /* Online Status */
        .online-dot {
            width: 12px;
            height: 12px;
            background: #10b981;
            border-radius: 50%;
            border: 2px solid white;
            position: absolute;
            bottom: 0;
            right: 0;
            animation: pulse 2s infinite;
        }
        
        /* Floating Background */
        .floating-shape {
            position: absolute;
            border-radius: 50%;
            filter: blur(40px);
            animation: float 20s ease-in-out infinite;
        }
        
        .shape-1 {
            width: 200px;
            height: 200px;
            background: radial-gradient(circle, rgba(59, 130, 246, 0.1) 0%, rgba(59, 130, 246, 0.05) 70%);
            top: 10%;
            right: 10%;
        }
        
        .shape-2 {
            width: 150px;
            height: 150px;
            background: radial-gradient(circle, rgba(147, 51, 234, 0.1) 0%, rgba(147, 51, 234, 0.05) 70%);
            bottom: 20%;
            left: 15%;
            animation-delay: 10s;
        }
        
        /* Animations */
        @keyframes messageSlideIn {
            0% { opacity: 0; transform: translateY(20px); }
            100% { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(16, 185, 129, 0); }
            100% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0); }
        }
        
        /* Input styles */
        .chat-input {
            border: 2px solid #e5e7eb;
            transition: all 0.3s ease;
        }
        
        .chat-input:focus {
            border-color: #3b82f6;
            outline: none;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
        
        /* Button styles */
        .action-button {
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            transition: all 0.3s ease;
        }
        
        .action-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.3);
        }
        
        /* Community Badge */
        .community-badge {
            background: linear-gradient(135deg, #fbbf24, #f59e0b);
            animation: shimmer 2s ease-in-out infinite;
        }
        
        @keyframes shimmer {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }
    </style>
</head>
<body class="min-h-screen relative">
    
    <!-- Floating Background Shapes -->
    <div class="floating-shape shape-1"></div>
    <div class="floating-shape shape-2"></div>
    
    <!-- Header -->
    <nav class="bg-white/90 backdrop-blur-sm border-b border-gray-200/50 sticky top-0 z-40">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-4">
                    <button onclick="window.history.back()" class="text-gray-600 hover:text-blue-600 transition-colors">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                        </svg>
                    </button>
                    <div>
                        <h1 class="text-2xl font-bold text-gray-900">Pramukh Mandala</h1>
                        <p class="text-gray-600">Professional Communities</p>
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <button class="px-4 py-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition-colors">
                        <span class="text-sm font-medium">Create Community</span>
                    </button>
                </div>
            </div>
        </div>
    </nav>
    
    <!-- Main Content -->
    <div class="max-w-7xl mx-auto p-6">
        
        <!-- Community Stats -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
            <div class="stat-card stat-card-blue rounded-xl p-6">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm font-medium text-gray-600">Active Communities</p>
                        <p class="text-2xl font-bold text-gray-900">12</p>
                    </div>
                    <div class="p-3 bg-blue-100 rounded-full">
                        <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
                        </svg>
                    </div>
                </div>
            </div>
            
            <div class="stat-card stat-card-green rounded-xl p-6">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm font-medium text-gray-600">Total Members</p>
                        <p class="text-2xl font-bold text-gray-900">2,847</p>
                    </div>
                    <div class="p-3 bg-green-100 rounded-full">
                        <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"></path>
                        </svg>
                    </div>
                </div>
            </div>
            
            <div class="stat-card stat-card-purple rounded-xl p-6">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm font-medium text-gray-600">Messages Today</p>
                        <p class="text-2xl font-bold text-gray-900">486</p>
                    </div>
                    <div class="p-3 bg-purple-100 rounded-full">
                        <svg class="w-6 h-6 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-3.582 8-8 8a8.959 8.959 0 01-2.794-.446L5 21l1.446-5.206A8.959 8.959 0 013 12c0-4.418 3.582-8 8-8s8 3.582 8 8z"></path>
                        </svg>
                    </div>
                </div>
            </div>
            
            <div class="stat-card stat-card-orange rounded-xl p-6">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm font-medium text-gray-600">Your Communities</p>
                        <p class="text-2xl font-bold text-gray-900">3</p>
                    </div>
                    <div class="p-3 bg-orange-100 rounded-full">
                        <svg class="w-6 h-6 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"></path>
                        </svg>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Main Content Grid -->
        <div class="grid lg:grid-cols-3 gap-6">
            
            <!-- Communities List -->
            <div class="lg:col-span-1">
                <div class="community-card rounded-2xl p-6 mb-6">
                    <h3 class="text-xl font-semibold text-gray-900 mb-4">Your Communities</h3>
                    
                    <div class="space-y-4">
                        <!-- Pandava Community (Featured) -->
                        <div onclick="selectCommunity('pandava')" class="community-item bg-gradient-to-r from-blue-50 to-purple-50 p-4 rounded-xl cursor-pointer border-2 border-blue-200 hover:border-blue-300 transition-all">
                            <div class="flex items-center space-x-3">
                                <div class="relative">
                                    <div class="w-12 h-12 bg-gradient-to-br from-orange-500 to-red-600 rounded-lg flex items-center justify-center">
                                        <span class="text-white font-bold text-lg">üèπ</span>
                                    </div>
                                    <div class="community-badge absolute -top-2 -right-2 w-6 h-6 rounded-full flex items-center justify-center">
                                        <span class="text-white text-xs font-bold">‚ú¶</span>
                                    </div>
                                </div>
                                <div class="flex-1">
                                    <h4 class="font-semibold text-gray-900">Pandava</h4>
                                    <p class="text-sm text-gray-600">Warriors of Career Growth</p>
                                    <div class="flex items-center space-x-2 mt-1">
                                        <div class="w-2 h-2 bg-green-400 rounded-full animate-pulse"></div>
                                        <span class="text-xs text-green-600">347 online</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Other Communities -->
                        <div onclick="selectCommunity('engineers')" class="community-item p-4 rounded-xl cursor-pointer hover:bg-gray-50 transition-all">
                            <div class="flex items-center space-x-3">
                                <div class="w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center">
                                    <span class="text-white font-bold">‚öôÔ∏è</span>
                                </div>
                                <div class="flex-1">
                                    <h4 class="font-semibold text-gray-900">Future Engineers</h4>
                                    <p class="text-sm text-gray-600">Build the tomorrow</p>
                                    <div class="flex items-center space-x-2 mt-1">
                                        <div class="w-2 h-2 bg-green-400 rounded-full"></div>
                                        <span class="text-xs text-gray-500">156 online</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div onclick="selectCommunity('doctors')" class="community-item p-4 rounded-xl cursor-pointer hover:bg-gray-50 transition-all">
                            <div class="flex items-center space-x-3">
                                <div class="w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center">
                                    <span class="text-white font-bold">‚öïÔ∏è</span>
                                </div>
                                <div class="flex-1">
                                    <h4 class="font-semibold text-gray-900">Medical Minds</h4>
                                    <p class="text-sm text-gray-600">Healing through learning</p>
                                    <div class="flex items-center space-x-2 mt-1">
                                        <div class="w-2 h-2 bg-gray-400 rounded-full"></div>
                                        <span class="text-xs text-gray-500">89 online</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div onclick="selectCommunity('business')" class="community-item p-4 rounded-xl cursor-pointer hover:bg-gray-50 transition-all">
                            <div class="flex items-center space-x-3">
                                <div class="w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg flex items-center justify-center">
                                    <span class="text-white font-bold">üíº</span>
                                </div>
                                <div class="flex-1">
                                    <h4 class="font-semibold text-gray-900">Business Leaders</h4>
                                    <p class="text-sm text-gray-600">Entrepreneurial spirits</p>
                                    <div class="flex items-center space-x-2 mt-1">
                                        <div class="w-2 h-2 bg-green-400 rounded-full"></div>
                                        <span class="text-xs text-gray-500">203 online</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <button class="action-button w-full mt-4 py-3 text-white rounded-xl font-medium">
                        Explore More Communities
                    </button>
                </div>
                
                <!-- Active Members -->
                <div class="community-card rounded-2xl p-6">
                    <h3 class="text-lg font-semibold text-gray-900 mb-4">Active Members</h3>
                    <div class="space-y-3">
                        <div class="flex items-center space-x-3">
                            <div class="relative">
                                <div class="member-avatar w-10 h-10 rounded-full flex items-center justify-center text-white font-semibold">
                                    A
                                </div>
                                <div class="online-dot"></div>
                            </div>
                            <div>
                                <p class="font-medium text-gray-900">Arjun Singh</p>
                                <p class="text-sm text-gray-600">Software Engineer</p>
                            </div>
                        </div>
                        
                        <div class="flex items-center space-x-3">
                            <div class="relative">
                                <div class="member-avatar w-10 h-10 rounded-full flex items-center justify-center text-white font-semibold">
                                    P
                                </div>
                                <div class="online-dot"></div>
                            </div>
                            <div>
                                <p class="font-medium text-gray-900">Priya Sharma</p>
                                <p class="text-sm text-gray-600">Product Manager</p>
                            </div>
                        </div>
                        
                        <div class="flex items-center space-x-3">
                            <div class="relative">
                                <div class="member-avatar w-10 h-10 rounded-full flex items-center justify-center text-white font-semibold">
                                    R
                                </div>
                                <div class="w-3 h-3 bg-gray-400 rounded-full border-2 border-white absolute bottom-0 right-0"></div>
                            </div>
                            <div>
                                <p class="font-medium text-gray-900">Rahul Patel</p>
                                <p class="text-sm text-gray-600">Data Scientist</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Chat Section -->
            <div class="lg:col-span-2">
                <div class="community-card rounded-2xl overflow-hidden">
                    
                    <!-- Chat Header -->
                    <div class="p-4 border-b border-gray-200 bg-gradient-to-r from-orange-50 to-red-50">
                        <div class="flex items-center space-x-3">
                            <div class="w-12 h-12 bg-gradient-to-br from-orange-500 to-red-600 rounded-lg flex items-center justify-center">
                                <span class="text-white font-bold text-lg">üèπ</span>
                            </div>
                            <div>
                                <h3 class="text-xl font-semibold text-gray-900">Pandava Community</h3>
                                <p class="text-sm text-gray-600">347 members ‚Ä¢ 89 online</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Chat Messages -->
                    <div class="chat-container p-4" id="chatMessages">
                        
                        <!-- Welcome Message -->
                        <div class="text-center py-8 border-b border-gray-200 mb-4">
                            <div class="w-16 h-16 bg-gradient-to-br from-orange-500 to-red-600 rounded-full flex items-center justify-center mx-auto mb-4">
                                <span class="text-white font-bold text-2xl">üèπ</span>
                            </div>
                            <h4 class="text-lg font-semibold text-gray-900 mb-2">Welcome to Pandava!</h4>
                            <p class="text-gray-600 max-w-md mx-auto">
                                Like the legendary warriors, we support each other in conquering career challenges. 
                                Share experiences, ask questions, and grow together! üí™
                            </p>
                        </div>
                        
                        <!-- Chat Messages -->
                        <div class="space-y-4">
                            
                            <div class="chat-message other p-3 rounded-xl">
                                <div class="flex items-start space-x-3">
                                    <div class="member-avatar w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-semibold">
                                        A
                                    </div>
                                    <div>
                                        <div class="flex items-center space-x-2 mb-1">
                                            <span class="font-medium text-gray-900">Arjun Singh</span>
                                            <span class="text-xs text-gray-500">2 hours ago</span>
                                        </div>
                                        <p class="text-gray-800">Hey everyone! Just got selected for a software engineering role at a startup! üéâ Thanks for all the interview prep help!</p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="chat-message other p-3 rounded-xl">
                                <div class="flex items-start space-x-3">
                                    <div class="member-avatar w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-semibold">
                                        P
                                    </div>
                                    <div>
                                        <div class="flex items-center space-x-2 mb-1">
                                            <span class="font-medium text-gray-900">Priya Sharma</span>
                                            <span class="text-xs text-gray-500">2 hours ago</span>
                                        </div>
                                        <p class="text-gray-800">Congratulations @Arjun! üéä That's amazing news! Which tech stack will you be working with?</p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="chat-message other p-3 rounded-xl">
                                <div class="flex items-start space-x-3">
                                    <div class="member-avatar w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-semibold">
                                        R
                                    </div>
                                    <div>
                                        <div class="flex items-center space-x-2 mb-1">
                                            <span class="font-medium text-gray-900">Rahul Patel</span>
                                            <span class="text-xs text-gray-500">1 hour ago</span>
                                        </div>
                                        <p class="text-gray-800">Awesome @Arjun! üöÄ Speaking of careers, does anyone have experience with data science interviews at FAANG companies?</p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="chat-message other p-3 rounded-xl">
                                <div class="flex items-start space-x-3">
                                    <div class="member-avatar w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-semibold">
                                        S
                                    </div>
                                    <div>
                                        <div class="flex items-center space-x-2 mb-1">
                                            <span class="font-medium text-gray-900">Sneha Gupta</span>
                                            <span class="text-xs text-gray-500">45 min ago</span>
                                        </div>
                                        <p class="text-gray-800">@Rahul I cleared Google's data science interview last year! Happy to share some tips. DM me! üìä</p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="chat-message other p-3 rounded-xl">
                                <div class="flex items-start space-x-3">
                                    <div class="member-avatar w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-semibold">
                                        V
                                    </div>
                                    <div>
                                        <div class="flex items-center space-x-2 mb-1">
                                            <span class="font-medium text-gray-900">Vikram Jain</span>
                                            <span class="text-xs text-gray-500">30 min ago</span>
                                        </div>
                                        <p class="text-gray-800">Quick question - anyone here transitioned from engineering to product management? Looking for some guidance! ü§î</p>
                                    </div>
                                </div>
                            </div>
                            
                        </div>
                    </div>
                    
                    <!-- Chat Input -->
                    <div class="p-4 border-t border-gray-200 bg-gray-50">
                        <div class="flex items-center space-x-4">
                            <div class="flex-1 relative">
                                <input 
                                    type="text" 
                                    id="messageInput"
                                    class="chat-input w-full px-4 py-3 rounded-xl"
                                    placeholder="Share your thoughts with the Pandava community..."
                                    onkeypress="handleKeyPress(event)"
                                >
                            </div>
                            
                            <button onclick="sendMessage()" class="action-button p-3 rounded-xl">
                                <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>
                                </svg>
                            </button>
                            
                            <button class="p-3 bg-gray-200 rounded-xl hover:bg-gray-300 transition-colors">
                                <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"></path>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        let currentCommunity = 'pandava';
        
        // Community selection
        function selectCommunity(communityId) {
            currentCommunity = communityId;
            
            // Update active state
            document.querySelectorAll('.community-item').forEach(item => {
                item.classList.remove('bg-gradient-to-r', 'from-blue-50', 'to-purple-50', 'border-2', 'border-blue-200');
            });
            
            event.currentTarget.classList.add('bg-gradient-to-r', 'from-blue-50', 'to-purple-50', 'border-2', 'border-blue-200');
            
            // BACKEND INTEGRATION NEEDED: Load community-specific chat messages
            // loadCommunityMessages(communityId);
        }
        
        // Chat functionality
        function sendMessage() {
            const input = document.getElementById('messageInput');
            const message = input.value.trim();
            
            if (message) {
                addMessage(message, true);
                input.value = '';
                
                // BACKEND INTEGRATION NEEDED: Send message to community chat
                // await sendCommunityMessage(currentCommunity, message);
                
                // Simulate response (remove in production)
                setTimeout(() => {
                    const responses = [
                        "That's a great question! Thanks for sharing.",
                        "I had a similar experience. Let me share some insights...",
                        "Welcome to the community! Feel free to ask anything.",
                        "That's really inspiring! Congratulations on your progress.",
                        "I'd love to connect and discuss this further!"
                    ];
                    const randomResponse = responses[Math.floor(Math.random() * responses.length)];
                    addMessage(randomResponse, false, 'Community Bot');
                }, 1000 + Math.random() * 2000);
            }
        }
        
        function addMessage(content, isOwn = false, senderName = 'You') {
            const messagesContainer = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            
            const currentTime = new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
            
            if (isOwn) {
                messageDiv.className = 'chat-message own p-3 rounded-xl text-white';
                messageDiv.innerHTML = `
                    <div class="flex items-end justify-end space-x-3">
                        <div>
                            <div class="flex items-center justify-end space-x-2 mb-1">
                                <span class="text-xs text-blue-200">now</span>
                                <span class="font-medium text-white">You</span>
                            </div>
                            <p class="text-white">${content}</p>
                        </div>
                        <div class="member-avatar w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-semibold">
                            U
                        </div>
                    </div>
                `;
            } else {
                messageDiv.className = 'chat-message other p-3 rounded-xl';
                const avatarLetter = senderName.charAt(0).toUpperCase();
                messageDiv.innerHTML = `
                    <div class="flex items-start space-x-3">
                        <div class="member-avatar w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-semibold">
                            ${avatarLetter}
                        </div>
                        <div>
                            <div class="flex items-center space-x-2 mb-1">
                                <span class="font-medium text-gray-900">${senderName}</span>
                                <span class="text-xs text-gray-500">now</span>
                            </div>
                            <p class="text-gray-800">${content}</p>
                        </div>
                    </div>
                `;
            }
            
            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }
        
        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }
        
        // Load user data
        function loadUserData() {
            const userData = localStorage.getItem('pathify_user_profile');
            if (userData) {
                const profile = JSON.parse(userData);
                // Customize community recommendations based on user profile
                // BACKEND INTEGRATION NEEDED: Load personalized communities
            }
        }
        
        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            loadUserData();
            
            // Add entrance animations
            setTimeout(() => {
                document.querySelectorAll('.community-card').forEach((card, index) => {
                    setTimeout(() => {
                        card.style.opacity = '0';
                        card.style.transform = 'translateY(20px)';
                        card.style.transition = 'all 0.5s ease';
                        
                        setTimeout(() => {
                            card.style.opacity = '1';
                            card.style.transform = 'translateY(0)';
                        }, 100);
                    }, index * 200);
                });
            }, 300);
            
            // BACKEND INTEGRATION POINTS:
            // 1. loadCommunityMessages() - Fetch real community chat history
            // 2. sendCommunityMessage() - Send messages to community chat
            // 3. loadUserCommunities() - Load user's joined communities
            // 4. loadCommunityStats() - Fetch real community statistics
            // 5. Real-time message updates via WebSocket
            // 6. User authentication and community access control
            // 7. File/image sharing in community chats
            // 8. Community moderation and admin features
        });
    </script>
</body>
</html>